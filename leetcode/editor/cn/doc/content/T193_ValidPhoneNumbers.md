<p>给定一个包含电话号码列表（一行一个电话号码）的文本文件 <code>file.txt</code>，写一个单行 bash 脚本输出所有有效的电话号码。</p>

<p>你可以假设一个有效的电话号码必须满足以下两种格式： (xxx) xxx-xxxx 或&nbsp;xxx-xxx-xxxx。（x 表示一个数字）</p>

<p>你也可以假设每行前后没有多余的空格字符。</p>

<p>&nbsp;</p>

<p><strong>示例：</strong></p>

<p>假设&nbsp;<code>file.txt</code>&nbsp;内容如下：</p>

<pre>
987-123-4567
123 456 7890
(123) 456-7890
</pre>

<p>你的脚本应当输出下列有效的电话号码：</p>

<pre>
987-123-4567
(123) 456-7890
</pre>

<div><li>👍 167</li><li>👎 0</li></div>


要编写一个 Bash 脚本来输出所有有效的电话号码，可以使用正则表达式来匹配有效的电话号码格式。有效的电话号码可以是以下两种格式：

1. **(xxx) xxx-xxxx**
2. **xxx-xxx-xxxx**

我们可以使用 `grep` 命令结合正则表达式来完成此任务。

### 单行 Bash 脚本：

```bash
grep -E '^\([0-9]{3}\) [0-9]{3}-[0-9]{4}$|^[0-9]{3}-[0-9]{3}-[0-9]{4}$' file.txt
```

### 解释：

1. **`grep -E`**：
    - `-E` 启用扩展正则表达式，使得我们可以使用更复杂的正则表达式语法。

2. **正则表达式**：
    - `^\([0-9]{3}\) [0-9]{3}-[0-9]{4}$`：
        - `^`：匹配行的开始。
        - `\([0-9]{3}\)`：匹配三位数字并用括号括起来，`[0-9]{3}` 匹配任意三位数字。
        - `[0-9]{3}`：匹配三位数字。
        - `-`：字面匹配短横线。
        - `[0-9]{4}`：匹配四位数字。
        - `$`：匹配行的结尾。
    - `|`：表示“或者”，连接两种有效的格式。
    - `^[0-9]{3}-[0-9]{3}-[0-9]{4}$`：
        - `^[0-9]{3}`：匹配三个数字。
        - `-`：字面匹配短横线。
        - `[0-9]{3}`：匹配三个数字。
        - `-`：字面匹配短横线。
        - `[0-9]{4}$`：匹配四个数字并确保行的结尾。

3. **`file.txt`**：
    - 这是包含电话号码的文本文件。

### 示例：

假设 `file.txt` 内容如下：

```
987-123-4567
123 456 7890
(123) 456-7890
```

执行该脚本后输出：

```
987-123-4567
(123) 456-7890
```

### 总结：

- 使用 `grep -E` 配合正则表达式可以非常高效地匹配符合特定模式的电话号码格式。
- 该脚本能筛选出符合 `(xxx) xxx-xxxx` 或 `xxx-xxx-xxxx` 格式的电话号码。